package com.brenda.demouximport androidx.appcompat.app.AppCompatActivityimport android.os.Bundleimport android.text.Editableimport android.text.TextWatcherimport android.view.inputmethod.EditorInfoimport android.widget.ArrayAdapterimport android.widget.SearchViewimport android.widget.TextViewimport android.widget.Toastimport com.brenda.demoux.databinding.ActivityFormularioBindingimport com.brenda.demoux.models.TiposCuentaimport com.brenda.demoux.utils.EventosInputsLayoutimport com.google.android.material.textfield.TextInputLayoutclass FormularioActivity : AppCompatActivity() {    lateinit var binding : ActivityFormularioBinding    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        binding = ActivityFormularioBinding.inflate(layoutInflater)        setContentView(binding.root)        binding.tilNombre.isErrorEnabled = true        binding.tilApellido.isErrorEnabled = true        binding.tilCorreo.isErrorEnabled = true        setUpUi()        binding.txtCorreo.setOnEditorActionListener(TextView.OnEditorActionListener{ tv, actionId, event ->            if(actionId == EditorInfo.IME_ACTION_DONE){                Toast.makeText(applicationContext, tv.text.toString(), Toast.LENGTH_SHORT).show()                if(binding.tilNombre.isErrorEnabled ||                    binding.tilApellido.isErrorEnabled ||                        binding.tilCorreo.isErrorEnabled){                    Toast.makeText(applicationContext, "Formulario Incorrecto", Toast.LENGTH_SHORT).show()                }else{                    Toast.makeText(applicationContext, "Formulario Correcto", Toast.LENGTH_SHORT).show()                }            }            false        })    }    fun setUpUi(){        addErrorInputLayout(binding.tilNombre, EventosInputsLayout.ERROR_TRES_CARACTERES)        addErrorInputLayout(binding.tilApellido, EventosInputsLayout.ERROR_TRES_CARACTERES)        addErrorInputLayout(binding.tilCorreo, EventosInputsLayout.ERROR_TRES_CARACTERES)        EventosInputsLayout.addTextChangedListener(binding.txtNombre, binding.tilNombre)        EventosInputsLayout.addTextChangedListener(binding.txtApellido, binding.tilApellido)        EventosInputsLayout.addValidateEmail(binding.txtCorreo, binding.tilCorreo)        binding.txtBuscar.setOnQueryTextListener( object : SearchView.OnQueryTextListener,            androidx.appcompat.widget.SearchView.OnQueryTextListener {            override fun onQueryTextSubmit(p0: String?): Boolean {                Toast.makeText(applicationContext, "$p0", Toast.LENGTH_SHORT).show()                return false            }            override fun onQueryTextChange(p0: String?): Boolean {                return false            }        })        //Spinner con Recursos XML        val spinMesesAdapter = ArrayAdapter.createFromResource(this, R.array.meses_array, android.R.layout.simple_spinner_item)        spinMesesAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)        binding.spinMeses.adapter = spinMesesAdapter        val arregloTiposCuenta = TiposCuenta.obtenerTiposCuenta()        //Spinner con Objetos        val spinCuentasAdapter = ArrayAdapter<TiposCuenta>(this, android.R.layout.simple_spinner_item, arregloTiposCuenta)        spinCuentasAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)        binding.spinCuentas.adapter = spinCuentasAdapter        //Setear valor por default del spinner "cheques"        binding.spinCuentas.post ( Runnable { binding.spinCuentas.setSelection(2) } )    }    private fun addErrorInputLayout(t:TextInputLayout, mensaje:String){        t.isErrorEnabled = true        t.error = mensaje    }    fun obtenerCuenta(view: android.view.View) {        var mCuenta = binding.spinCuentas.selectedItem as TiposCuenta        Toast.makeText(applicationContext, "Cuenta: ${mCuenta.descripcion}", Toast.LENGTH_SHORT).show()    }}